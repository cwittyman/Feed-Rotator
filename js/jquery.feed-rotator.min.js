(function(f){f.extend({jGFeed:function(a,c,i,b){if(null==a)return!1;a="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+a;null!=i&&(a+="&num="+i);null!=b&&(a+="&key="+b);f.getJSON(a,function(a){if("function"==typeof c)c.call(this,a.responseData.feed);else return!1})}})})(jQuery);
(function(f){f(function(){f.fn.feedRotator=function(a){var c=this,a=f.extend({fetchData:!1,feedUrl:"",dataType:"jsonp",useStaticTitle:!1,feedTitle:"title",staticTitle:"",feedContent:"summary",itemClass:".newsfeed-item",titleClass:".title",contentClass:".feed-content",currentItem:"visible-item",lineHeight:20,parentHeight:25,waitTime:5E3,transitionTime:2E3,easing:"linear",autoRotateDirection:"up"},a),i=function(a){a=f("<p>"+a+"</p>").text();return a.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,
" <a target='_blank' href='$1'>Read More</a>")};if(a.fetchData)return"jsonp"==a.dataType?f.getJSON(a.feedUrl,function(b){var e="";for(msgNum in b){var d,h,g;for(g in b[msgNum])b[msgNum].hasOwnProperty(g)&&(g==a.feedContent?h=b[msgNum][g]:g==a.feedTitle?d=b[msgNum][g]:null!=b[msgNum][g]&&(b[msgNum][g].hasOwnProperty(a.feedContent)?h=b[msgNum][g][a.feedContent]:b[msgNum][g].hasOwnProperty(a.feedTitle)&&(d=b[msgNum][g][a.feedTitle])));a.useStaticTitle&&(d=a.staticTitle);e+='<div class="'+a.itemClass.substr(1)+
'"><span class="'+a.titleClass.substr(1)+'">'+d+'</span><span class="'+a.contentClass.substr(1)+'">'+i(h)+"</span></div>"}c.html(e).feedRotator(f.extend(a,{fetchData:!1}))}):f.jGFeed(a.feedUrl,function(b){if(!b)return!1;for(var e="",d=0;d<b.entries.length;d++){var h,g;h=a.useStaticTitle?a.staticTitle:b.entries[d][a.feedTitle];g=f.trim(b.entries[d][a.feedContent]).replace(/\ufffd/g," ")+" ... "+b.entries[d].link;e+='<div class="'+a.itemClass.substr(1)+'"><span class="'+a.titleClass.substr(1)+'">'+
h+'</span><span class="'+a.contentClass.substr(1)+'">'+g+"</span></div>"}c.html(e).feedRotator(f.extend(a,{fetchData:!1}))},15),this;this.find(a.contentClass).each(function(){f(this).html(i(f(this).html()))});if(1>this.find(a.itemClass).length)return this;1==this.find(a.itemClass).length&&this.append(this.find(a.itemClass).clone());this.css({overflow:"hidden",position:"relative",height:a.parentHeight+"px"});"up"==a.autoRotateDirection?this.find(a.itemClass).removeClass(a.currentItem).css({position:"relative",
top:"0px"}).eq(0).addClass(a.currentItem):this.find(a.itemClass).removeClass(a.currentItem).css({position:"relative",top:"-"+a.parentHeight+"px"}).eq(1).addClass(a.currentItem);this.find(a.contentClass).css({position:"relative",top:"0px"});this.rotateUp=function(){var b,e,d;b=c.find("."+a.currentItem);e=b.find(a.contentClass);cItemHeight=e.height();d=parseInt(e.css("top"));0>=cItemHeight+d-a.lineHeight?(d=0<b.next().length?b.next():c.find(a.itemClass).eq(0),b.removeClass(a.currentItem),d.addClass(a.currentItem),
c.find(a.itemClass).animate({top:"-"+a.parentHeight+"px"},a.transitionTime,a.easing,function(){e.css({top:"0px"});c.append(b);c.find(a.itemClass).css({top:"0px"})})):e.animate({top:d-a.lineHeight+"px"},a.transitionTime,a.easing);clearTimeout(c.slideTimer);c.slideTimer=null;c.slideTimer=setTimeout(function(){c.rotateUp()},a.waitTime+a.transitionTime);return!0};this.rotateDown=function(){var b,e,d;b=c.find("."+a.currentItem);e=b.find(a.contentClass);cItemHeight=e.height();d=parseInt(e.css("top"));0>=
cItemHeight+d-a.lineHeight?(d=0<b.next().length?b.next():c.find(a.itemClass).eq(0),b.removeClass(a.currentItem),d.addClass(a.currentItem),c.find(a.itemClass).animate({top:"0px"},a.transitionTime,a.easing,function(){e.css({top:"0px"});c.prepend(b);c.find(a.itemClass).css({top:"-"+a.parentHeight+"px"})})):e.animate({top:d-a.lineHeight+"px"},a.transitionTime,a.easing);clearTimeout(c.slideTimer);c.slideTimer=null;c.slideTimer=setTimeout(function(){c.rotateDown()},a.waitTime+a.transitionTime);return!0};
this.slideTimer=setTimeout(function(){"down"==a.autoRotateDirection?c.rotateDown():c.rotateUp()},a.waitTime);this.hover(function(){clearTimeout(c.slideTimer);c.slideTimer=null},function(){c.slideTimer=setTimeout(function(){"down"==a.autoRotateDirection?c.rotateDown():c.rotateUp()},a.waitTime+a.transitionTime)});return this}})})(jQuery);
